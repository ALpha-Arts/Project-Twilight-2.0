namespace = twilight_grand_tomorrow_events

# Main #

# Prologue
twilight_grand_tomorrow_events.500 = {
	type = country_event

	title = twilight_grand_tomorrow_events.500.t
	desc = twilight_grand_tomorrow_events.500.d
	flavor = twilight_grand_tomorrow_events.500.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		NOT = {
			has_variable = twilight_grand_tomorrow_events_500
		}
	}

	immediate = {
		set_variable = twilight_grand_tomorrow_events_500
	}

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.500.a
		add_journal_entry = {
			type = je_grand_tomorrow_loyalty
		}
	}
}

# Epilogue
twilight_grand_tomorrow_events.501 = {
	type = country_event

	title = twilight_grand_tomorrow_events.501.t
	desc = twilight_grand_tomorrow_events.501.d
	flavor = twilight_grand_tomorrow_events.501.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.501.a
	}
}

# Modernization #

# Modernization - Prologue
twilight_grand_tomorrow_events.510 = {
	type = country_event

	title = twilight_grand_tomorrow_events.510.t
	desc = twilight_grand_tomorrow_events.510.d
	flavor = twilight_grand_tomorrow_events.510.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/____/____"

	trigger = {
		NOT = {
			has_variable = twilight_grand_tomorrow_events_510
		}
	}

	immediate = {
		set_variable = twilight_grand_tomorrow_events_510
	}

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.510.a
		add_journal_entry = {
			type = je_grand_tomorrow_loyalty_modernization
		}
	}
}

# Modernization - Epilogue
twilight_grand_tomorrow_events.511 = {
	type = country_event

	title = twilight_grand_tomorrow_events.511.t
	desc = twilight_grand_tomorrow_events.511.d
	flavor = twilight_grand_tomorrow_events.511.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/____/____"

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.511.a
	}
}

# Recruitment #

# Recruitment - Prologue
twilight_grand_tomorrow_events.520 = {
	type = country_event

	title = twilight_grand_tomorrow_events.520.t
	desc = twilight_grand_tomorrow_events.520.d
	flavor = twilight_grand_tomorrow_events.520.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/____/____"

	trigger = {
		NOT = {
			has_variable = twilight_grand_tomorrow_events_520
		}
	}

	immediate = {
		set_variable = twilight_grand_tomorrow_events_520
	}

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.520.a
		add_journal_entry = {
			type = je_grand_tomorrow_loyalty_recruitment
		}
	}
}

# Recruitment - Epilogue
twilight_grand_tomorrow_events.521 = {
	type = country_event

	title = twilight_grand_tomorrow_events.521.t
	desc = twilight_grand_tomorrow_events.521.d
	flavor = twilight_grand_tomorrow_events.521.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_london_center.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/____/____"

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.521.a
	}
}

# Recruitment - Objective
twilight_grand_tomorrow_events.522 = {
	type = country_event

	title = twilight_grand_tomorrow_events.522.t
	desc = twilight_grand_tomorrow_events.522.d
	flavor = twilight_grand_tomorrow_events.522.f

	placement = ROOT

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_politicians_arguing.bk2"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	# on_opened_soundeffect = "event:/SFX/Events/____/____"

	trigger = {
		NOT = {
			has_variable = twilight_grand_tomorrow_events_522
		}
		OR = {
			army_size >= 50
			OR = {
				has_law = law_type:law_professional_army
				has_law = law_type:law_national_militia
				has_law = law_type:law_mass_conscription
			}
		}
	}

	immediate = {
		set_variable = twilight_grand_tomorrow_events_522
	}

	icon = "gfx/interface/icons/event_icons/twilight_event_loyalty.dds"

	option = {
		name = twilight_grand_tomorrow_events.522.a
		default_option = yes
		je:je_grand_tomorrow_loyalty_recruitment = {
			set_variable = {
				name = armed_forces_name
				value = 0
			}
		}
	}

	option = {
		name = twilight_grand_tomorrow_events.522.b
		je:je_grand_tomorrow_loyalty_recruitment = {
			set_variable = {
				name = armed_forces_name
				value = 1
			}
		}
	}
}
