# 여기서는 이제 다시 common/genes/LIA_genes_pony.txt 에서 만들어둔
# 유전타입과 그 템플릿들을 꺼내 쓰게 될 것인데,
# 팝이나 캐릭터가 어떤 조건을 만족할때 얼마만큼의 가중치로
# 어떤 모습을 취하게 될 지를 결정하는 부분이라고 할 수 있지.

# 이 이름은 그냥 임의로 지어도 댐. 아마도...
# 하지만 알아보기 편한 이름이 좋겠지?
lia_pony_portrait = {
	# 이것도 그냥 알아보기 편하게 지어두면 댐.
	pony_test_portrait_base_cloak = {
		# 이제 이 안에서 실제로 해당 캐릭터가 어떤 모습으로 변할지가 결정될것이고...
		dna_modifiers = {
			# 우리가 각 캔버스들을 악세서리처럼 취급하기로 한다고 했었지?
			accessory = {
				# 이건 자세히는 나도 모르겠지만, 아마 주로 add를 가장 많이 쓰게 될 거야.
				mode = add
				# 드디어 나왔다. pony_base 유전타입에서는 이 캐릭터는 아래 탬플릿으로 보여지게 될 거야.
				gene = pony_base
				# 즉 아래 조건을 만족한다면 이 모습으로 보여질것.
				template = lia_pony_test_portrait_base_cloak_temp
				# 이것도 위의 mode처럼 좀 더 연구가 필요해. 당장은 큰 문제는 안될거야.
				value = 0.5
			}
		}
		# 여기선 이제 조건과 가중치를 정할 수 있는데,
		weight = {
			# 이건 기본 가중치. base가 0이면,
			# 조건을 만족하지 않는 캐릭터나 팝은
			# 이 표현형과 연관이 하나도 없게 될 것이라는 거지.
			base = 0
			# 그리고 가중치들은 이렇게 모디파이어를 붙여서 조건부로 늘리고 줄일수가 있어.
			# modifier = {
			#	# 실험용으로 10000이나 박아뒀지만, 이것도 나름 중요한데
			#	# 만약 여러 표현형들의 발현 조건을 두루 만족시키는 캐릭터라면,
			#	# 그중 가장 가중치가 큰 표현형을 따라가게 될 것이거든.
			#	# 이건 가중치에 10000을 더한다는것이고, 바로 아랫줄에 그 조건을 적어두면 됨.
			#	add = 10000
			#	OR = {
			#		# 이건 common/scripted_triggers/LIA_pony_clothes_triggers.txt 에
			#		# 따로 정리해둔 조건을 꺼내서 대조해 보게 될 거야.
			#		pony_clothes_character_trigger = yes
			#		# 거기까지 가기 전에 미리 간략하게 설명하자면,
			#		# 이 조건들은 해당 캐릭터나 팝이 일단 존재하는지,
			#		# 존재한다면 Pony문화를 가지고 있는지 체크하는 조건들이야.
			#		pony_clothes_pop_trigger = yes
			#	}
			# }
		}
	}

	# 위 표현형덕분에 대부분의 포니팝과 캐릭터들은 저 외형으로 나오게 될 것이지만,
	# 트와일라잇도 한번 나타나게 해 보자.
	pony_test_portrait_twilight_base = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_portrait_twilight_base_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			# modifier = {
			#	# 가중치가 무려 2만!
			#	# 바로 위 표현형의 발현조건을 만족해도 아래 조건을 만족시킨다면
			#	# 더 큰 가중치로 이 표현형이 우선 발현되게 되는거지.
			#	add = 20000
			#	# 이것도 common/scripted_triggers/LIA_pony_clothes_triggers.txt 에 정의되어있는데,
			#	# 간략히 설명하자면 이퀘스트리아의 지도자를 트와일라잇이라고 인식한다는 조건이야.
			#	pony_twilight_base_trigger = yes
			# }
		}
	}
	####
	pony_test_silhouette_base_earthpony = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_earthpony_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				OR = {
					earthpony_clothes_character_trigger = yes
					earthpony_clothes_pop_trigger = yes
				}
			}
		}
	}
	pony_test_silhouette_base_pegasus = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_pegasus_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				OR = {
					pegasus_clothes_character_trigger = yes
					pegasus_clothes_pop_trigger = yes
				}
			}
		}
	}
	pony_test_silhouette_base_unicorn = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_unicorn_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				OR = {
					unicorn_clothes_character_trigger = yes
					unicorn_clothes_pop_trigger = yes
				}
			}
		}
	}
	pony_test_silhouette_base_alicorn = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_alicorn_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				alicorn_clothes_character_trigger = yes
				#OR = {
				#	alicorn_clothes_character_trigger = yes
				#	alicorn_clothes_pop_trigger = yes
				#}
			}
		}
	}
	pony_test_silhouette_base_random = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_random_temp
				#value = 0.5
				range = { 0 1 }
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 500
				OR = {
					pony_clothes_character_trigger = yes
					pony_clothes_pop_trigger = yes
				}
			}
		}
	}
	pony_test_silhouette_base_batpony = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = pony_base
				template = lia_pony_test_silhouette_base_batpony_temp
				value = 0.5
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 1000
				OR = {
					batpony_clothes_character_trigger = yes
					batpony_clothes_pop_trigger = yes
				}
			}
		}
	}
}
