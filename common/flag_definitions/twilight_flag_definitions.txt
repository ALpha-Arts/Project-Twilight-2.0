# FLAG_DEFINITION_LIST = {		# countries search for a list with the same name as their tag, the DEFAULT list is always included, if no flag definition is applicable for a country then its tag is used a COA_KEY
# 	includes = ANOTHER_LIST		# includes another list in this list, can be repeated
#
# 	flag_definition = {			# the flag definitions that make up this list, can be repeated
# 		coa = [list] COA_KEY	# main flag, optional list keyword denotes a coa template
# 		allow_overlord_canton = yes				# default no
# 		coa_with_overlord_canton = <[list] coa>	# flag where a canton can be placed, optional list keyword same as above, defaults to coa
# 		overlord_canton_offset = { x y }		# canton placement offset, default { 0 0 }
# 		overlord_canton_scale = { x y }			# canton placement scale, default { 0.5 0.5 }
# 		subject_canton = [list] COA_KEY	# canton applied to subjects by this country, optional list keyword same as above
#
# 		priority = value		# valid flag definition with the highest priority applies
# 		trigger = {}			# a trigger that determines if this flag definition is valid, see below for scope
#       allow_revolutionary_indicator = no      # Default = yes. If yes, a temporary revolutionary indicator will appear while the country is revolutionary
#       revolutionary_canton = [list] COA_KEY   # Optional. Default = default_revolutionary_canton. Defines which flag should be used as canton while this country is revolutionary
# 	}
# }

#            | existing country | releasing a country | country formation |
# |==========|==================|=====================|===================|
# |root      | definition       | definition          | definition        |
# |----------|------------------|---------------------|-------------------|
# |target    | country          | N/A                 | N/A               |
# |----------|------------------|---------------------|-------------------|
# |initiator | N/A              | player              | player            |
# |----------|------------------|---------------------|-------------------|
# |actor     | country          | player              | player            |
# |----------|------------------|---------------------|-------------------|
# |          | country's        |                     | player's          |
# |overlord  | direct overlord  | player              | direct overlord   |
# |          | if it exists     |                     | if it exists      |
# |----------|------------------|---------------------|-------------------|

# common variables
@coa_width = 768
@coa_height = 512
@canton_scale_cross_x = @[(333/coa_width)+0.001]
@canton_scale_cross_y = @[(205/coa_height)+0.001]

EQS = {
	flag_definition = {
		coa = EQS
		subject_canton = EQS
		priority = 1
	}
	flag_definition = {
		coa = EQS_old
		subject_canton = EQS_old_canton
		priority = 2
		trigger = {
			scope:target = {
				has_variable = old_flag
			}
		}
	}
}

ABY = {
	flag_definition = {
		coa = ABY
		subject_canton = ABY
		priority = 1
	}
	flag_definition = {
		coa = ABY_republic
		subject_canton = ABY_republic
		priority = 2
		trigger = {
			coa_def_republic_flag_trigger = yes
		}
	}
}

CHN = {
	flag_definition = {
		coa = CHN
		subject_canton = CHN
		priority = 1
	}
	flag_definition = {
		coa = CHN_hollow
		subject_canton = CHN_hollow
		priority = 2
		trigger = {
			scope:target = {
				NOT = {
					# Solutions to the Love problem
					has_law = law_type:law_multicultural
					has_law = law_type:law_slavery_banned
				}
			}
		}
	}
}

CNN = {
	flag_definition = {
		coa = CNN
		subject_canton = CNN
		priority = 1
	}
	flag_definition = {
		coa = CNN_republic
		subject_canton = CNN_republic
		priority = 2
		trigger = {
			coa_def_republic_flag_trigger = yes
		}
	}
}

CRY = {
	flag_definition = {
		coa = CRY
		subject_canton = CRY
		priority = 1
	}
}

GRF = {
	flag_definition = {
		coa = GRF
		subject_canton = GRF
		coa_with_overlord_canton = GRF_subject
		allow_overlord_canton = yes
		priority = 1
	}
}

DEFAULT = {
	flag_definition = {
		coa = list "anarchy"
		priority = 500
		trigger = {
			coa_def_anarchy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = list "communist"
		priority = 1000
		trigger = {
			coa_def_communist_flag_trigger = yes
		}
	}
}
