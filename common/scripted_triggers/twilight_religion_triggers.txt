# Scope is religion

religion_has_heritage_trait = {
	custom_tooltip = {
		text = religion_has_heritage_trait_tt
		OR = {
			has_discrimination_trait = harmony
			has_discrimination_trait = legend
			has_discrimination_trait = lunar
		}
	}
}

religion_has_heritage_trait_not = {
	custom_tooltip = {
		text = religion_has_heritage_trait_not_tt
		religion_has_heritage_trait = no
	}
}

# scope:target_religion is religion
shares_heritage_trait_with_target_religion = {
	custom_tooltip = {
		text = shares_heritage_trait_with_target_religion_tt
		OR = {
			AND = {
				has_discrimination_trait = harmony
				scope:target_religion = {
					has_discrimination_trait = harmony
				}
			}
			AND = {
				has_discrimination_trait = legend
				scope:target_religion = {
					has_discrimination_trait = legend
				}
			}
			AND = {
				has_discrimination_trait = lunar
				scope:target_religion = {
					has_discrimination_trait = lunar
				}
			}
		}
	}
}

religion_accepted_under_law_freedom_of_conscience = {
	save_temporary_scope_as = target_religion
	OR = {
		AND = {
			religion_has_heritage_trait = yes
			scope:country.religion = {
				shares_heritage_trait_with_target_religion = yes
			}
		}
		AND = {
			religion_has_heritage_trait_not = yes
			is_state_religion = scope:country
		}
	}
}

religion_accepted_under_law_total_separation = {
	always = yes
}
