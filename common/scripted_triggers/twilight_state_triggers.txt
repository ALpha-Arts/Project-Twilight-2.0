# Scope is state

# Overwritten
has_industrialized_pm = {
	OR = {
		# Textile Mills #

		is_production_method_active = {
			building_type = building_textile_mills
			production_method = pm_mechanized_looms
		}
		is_production_method_active = {
			building_type = building_textile_mills
			production_method = pm_automatic_power_looms
		}

		# Furniture Manufacturies #

		is_production_method_active = {
			building_type = building_furniture_manufacturies
			production_method = pm_mechanized_workshops
		}
		is_production_method_active = {
			building_type = building_furniture_manufacturies
			production_method = pm_watertube_boiler_building_furniture_manufacturies
		}
		is_production_method_active = {
			building_type = building_furniture_manufacturies
			production_method = pm_rotary_valve_engine_building_furniture_manufacturies
		}
		is_production_method_active = {
			building_type = building_furniture_manufacturies
			production_method = pm_assembly_lines_building_furniture_manufacturies
		}

		# Tooling Workshops #

		is_production_method_active = {
			building_type = building_tooling_workshops
			production_method = pm_watertube_boiler_building_tooling_workshops
		}
		is_production_method_active = {
			building_type = building_tooling_workshops
			production_method = pm_rotary_valve_engine_building_tooling_workshops
		}
		is_production_method_active = {
			building_type = building_tooling_workshops
			production_method = pm_assembly_lines_building_tooling_workshops
		}

		# Paper Mills #

		is_production_method_active = {
			building_type = building_paper_mills
			production_method = pm_watertube_boiler_building_paper_mills
		}
		is_production_method_active = {
			building_type = building_paper_mills
			production_method = pm_rotary_valve_engine_building_paper_mills
		}

		# Steel Mills #

		is_production_method_active = {
			building_type = building_steel_mills
			production_method = pm_watertube_boiler_building_steel_mills
		}
		is_production_method_active = {
			building_type = building_steel_mills
			production_method = pm_rotary_valve_engine_building_steel_mills
		}

		# Motor Industries #

		is_production_method_active = {
			building_type = building_motor_industry
			production_method = pm_watertube_boiler_building_motor_industry
		}
		is_production_method_active = {
			building_type = building_motor_industry
			production_method = pm_rotary_valve_engine_building_motor_industry
		}
		is_production_method_active = {
			building_type = building_motor_industry
			production_method = pm_assembly_lines_building_motor_industry
		}

		# Weather Factory #

		is_production_method_active = {
			building_type = building_weather_factory
			production_method = pm_pegasus_device
		}
		is_production_method_active = {
			building_type = building_weather_factory
			production_method = pm_watertube_boiler_building_weather_factory
		}
		is_production_method_active = {
			building_type = building_weather_factory
			production_method = pm_rotary_valve_engine_building_weather_factory
		}
		is_production_method_active = {
			building_type = building_weather_factory
			production_method = pm_assembly_lines_building_weather_factory
		}
	}
}

# Overwritten
using_watertube_boiler = {
	OR = {
		AND = {
			has_building = building_furniture_manufacturies
			is_production_method_active = {
				building_type = building_furniture_manufacturies
				production_method = pm_watertube_boiler_building_furniture_manufacturies
			}
		}
		AND = {
			has_building = building_tooling_workshops
			is_production_method_active = {
				building_type = building_tooling_workshops
				production_method = pm_watertube_boiler_building_tooling_workshops
			}
		}
		AND = {
			has_building = building_paper_mills
			is_production_method_active = {
				building_type = building_paper_mills
				production_method = pm_watertube_boiler_building_paper_mills
			}
		}
		AND = {
			has_building = building_steel_mills
			is_production_method_active = {
				building_type = building_steel_mills
				production_method = pm_watertube_boiler_building_steel_mills
			}
		}
		AND = {
			has_building = building_motor_industry
			is_production_method_active = {
				building_type = building_motor_industry
				production_method = pm_watertube_boiler_building_motor_industry
			}
		}
		AND = {
			has_building = building_tooling_workshops
			is_production_method_active = {
				building_type = building_tooling_workshops
				production_method = pm_watertube_boiler_building_tooling_workshops
			}
		}
		AND = {
			has_building = building_weather_factory
			is_production_method_active = {
				building_type = building_weather_factory
				production_method = pm_watertube_boiler_building_weather_factory
			}
		}
	}
}

# Overwritten
has_industry_building = {
	OR = {
		has_building = building_food_industry
		has_building = building_textile_mills
		has_building = building_furniture_manufacturies
		has_building = building_glassworks
		has_building = building_tooling_workshops
		has_building = building_paper_mills
		has_building = building_weather_factory
	}
}

has_enough_tax_capacity = {
	custom_tooltip = {
		text = has_enough_tax_capacity_tt
		tax_capacity >= tax_capacity_usage
	}
}